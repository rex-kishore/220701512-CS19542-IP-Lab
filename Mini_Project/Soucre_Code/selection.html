<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <title>Plant Selection</title>
    <style>
        .hidden { display: none; }
        .progress { height: 20px; }
        .card-selection {
            cursor: pointer;
            transition: transform 0.2s;
        }
        .card-selection:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body>

<div class="container mt-5">
    <h2 class="text-center">Choose Your Plants</h2>
    <div class="progress mb-3">
        <div id="progressBar" class="progress-bar bg-success" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
    </div>

    <form id="selectionForm" method="post" action="selection.php">
        <!-- Environmental Conditions -->
<div class="form-section hidden" id="environmentalConditions">
    <h4>Environmental Conditions</h4>
    <div class="row">
        <div class="col-md-4">
            <div class="card card-selection" onclick="nextSection('spaceLocation', 'fullSun')">
                <img src="img/full_sun.webp" class="card-img-top" alt="Full Sun">
                <div class="card-body">
                    <h5 class="card-title">Full Sun</h5>
                    <a href="full-sun-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card card-selection" onclick="nextSection('spaceLocation', 'partialShade')">
                <img src="img/cloudsun.webp" class="card-img-top" alt="Partial Shade">
                <div class="card-body">
                    <h5 class="card-title">Partial Shade</h5>
                    <a href="partial-shade-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card card-selection" onclick="nextSection('spaceLocation', 'fullShade')">
                <img src="img/cloud_sun.webp" class="card-img-top" alt="Full Shade">
                <div class="card-body">
                    <h5 class="card-title">Full Shade</h5>
                    <a href="full-shade-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-end mt-3">
        <!-- <button type="button" class="btn btn-secondary" onclick="previousSection()">Previous</button> -->
        <button type="button" class="btn btn-secondary" onclick="skipSection('spaceLocation')">Skip</button>
    </div>
</div>

<!-- Space and Location -->
<div class="form-section hidden" id="spaceLocation">
    <h4>Space and Location</h4>
    <div class="row">
        <div class="col-md-6">
            <div class="card card-selection" onclick="nextSection('maintenanceRequirements', 'indoor')">
                <img src="img/indoor.webp" class="card-img-top" alt="Indoor">
                <div class="card-body">
                    <h5 class="card-title">Indoor</h5>
                    <a href="indoor-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card card-selection" onclick="nextSection('maintenanceRequirements', 'outdoor')">
                <img src="img/outdoor.webp" class="card-img-top" alt="Outdoor">
                <div class="card-body">
                    <h5 class="card-title">Outdoor</h5>
                    <a href="outdoor-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-between mt-3">
        <button type="button" class="btn btn-secondary" onclick="previousSection()">Previous</button>
        <button type="button" class="btn btn-secondary" onclick="skipSection('maintenanceRequirements')">Skip</button>
    </div>
</div>

<!-- Maintenance Requirements -->
<div class="form-section hidden" id="maintenanceRequirements">
    <h4>Maintenance Requirements</h4>
    <div class="row">
        <div class="col-md-4">
            <div class="card card-selection" onclick="nextSection('aestheticPreferences', 'lowWater')">
                <img src="img/low_water.webp" class="card-img-top" alt="Low Water">
                <div class="card-body">
                    <h5 class="card-title">Low Water</h5>
                    <a href="low-water-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card card-selection" onclick="nextSection('aestheticPreferences', 'moderateWater')">
                <img src="img/moderate_water.webp" class="card-img-top" alt="Moderate Water">
                <div class="card-body">
                    <h5 class="card-title">Moderate Water</h5>
                    <a href="moderate-water-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card card-selection" onclick="nextSection('aestheticPreferences', 'highWater')">
                <img src="img/high_water.webp" class="card-img-top" alt="High Water">
                <div class="card-body">
                    <h5 class="card-title">High Water</h5>
                    <a href="high-water-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-between mt-3">
        <button type="button" class="btn btn-secondary" onclick="previousSection()">Previous</button>
        <button type="button" class="btn btn-secondary" onclick="skipSection('aestheticPreferences')">Skip</button>
    </div>
</div>

<!-- Aesthetic Preferences -->
<div class="form-section hidden" id="aestheticPreferences">
    <h4>Aesthetic Preferences</h4>
    <div class="row">
        <div class="col-md-4">
            <div class="card card-selection" onclick="nextSection('plantCharacteristics', 'green')">
                <img src="img/green_plant.webp" class="card-img-top" alt="Green">
                <div class="card-body">
                    <h5 class="card-title">Green</h5>
                    <a href="green-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card card-selection" onclick="nextSection('plantCharacteristics', 'variegated')">
                <img src="img/vegi_plant.webp" class="card-img-top" alt="Variegated">
                <div class="card-body">
                    <h5 class="card-title">Variegated</h5>
                    <a href="variegated-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card card-selection" onclick="nextSection('plantCharacteristics', 'red')">
                <img src="img/red_plant.webp" class="card-img-top" alt="Red">
                <div class="card-body">
                    <h5 class="card-title">Red</h5>
                    <a href="red-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-between mt-3">
        <button type="button" class="btn btn-secondary" onclick="previousSection()">Previous</button>
        <button type="button" class="btn btn-secondary" onclick="skipSection('plantCharacteristics')">Skip</button>
    </div>
</div>

<!-- Plant Type and Characteristics -->
<div class="form-section hidden" id="plantCharacteristics">
    <h4>Plant Type and Characteristics</h4>
    <div class="row">
        <div class="col-md-4">
            <div class="card card-selection" onclick="nextSection('purpose', 'flowering')">
                <img src="img/flowering_plant.webp" class="card-img-top" alt="Flowering Plants">
                <div class="card-body">
                    <h5 class="card-title">Flowering Plants</h5>
                    <a href="flowering-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card card-selection" onclick="nextSection('purpose', 'foliage')">
                <img src="img/foliage_plant.webp" class="card-img-top" alt="Foliage Plants">
                <div class="card-body">
                    <h5 class="card-title">Foliage Plants</h5>
                    <a href="foliage-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card card-selection" onclick="nextSection('purpose', 'edible')">
                <img src="img/ediable_plant.webp" class="card-img-top" alt="Edible Plants">
                <div class="card-body">
                    <h5 class="card-title">Edible Plants</h5>
                    <a href="edible-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-between mt-3">
        <button type="button" class="btn btn-secondary" onclick="previousSection()">Previous</button>
        <button type="button" class="btn btn-secondary" onclick="skipSection('purpose')">Skip</button>
    </div>
</div>

<!-- Purpose -->
<div class="form-section hidden" id="purpose">
    <h4>Purpose</h4>
    <div class="row">
        <div class="col-md-6">
            <div class="card card-selection" onclick="nextSection('allergies', 'decorative')">
                <img src="img/decarative_plant.webp" class="card-img-top" alt="Decorative">
                <div class="card-body">
                    <h5 class="card-title">Decorative</h5>
                    <a href="decorative-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card card-selection" onclick="nextSection('allergies', 'airPurifying')">
                <img src="img/airPurify_plant.webp" class="card-img-top" alt="Air Purifying">
                <div class="card-body">
                    <h5 class="card-title">Air Purifying</h5>
                    <a href="air-purifying-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col-md-6">
            <div class="card card-selection" onclick="nextSection('allergies', 'edible')">
                <img src="img/ediblee_plant.webp" class="card-img-top" alt="Edible">
                <div class="card-body">
                    <h5 class="card-title">Edible</h5>
                    <a href="edible-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card card-selection" onclick="nextSection('allergies', 'medicinal')">
                <img src="img/Medicinal_plant.webp" class="card-img-top" alt="Medicinal">
                <div class="card-body">
                    <h5 class="card-title">Medicinal</h5>
                    <a href="medicinal-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-between mt-3">
        <button type="button" class="btn btn-secondary" onclick="previousSection()">Previous</button>
        <button type="button" class="btn btn-secondary" onclick="skipSection('allergies')">Skip</button>
    </div>
</div>

        
<!-- Allergies and Sensitivities -->
<div class="form-section hidden" id="allergies">
    <h4>Allergies and Sensitivities</h4>
    <div class="row">
        <div class="col-md-6">
            <div class="card card-selection" onclick="nextSection('ecoFriendliness', 'petFriendly')">
                <img src="img/pet_friendly.webp" class="card-img-top" alt="Pet-friendly Plants">
                <div class="card-body">
                    <h5 class="card-title">Pet-friendly Plants</h5>
                    <a href="pet-friendly-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card card-selection" onclick="nextSection('ecoFriendliness', 'nonAllergenic')">
                <img src="img/non_allergic.webp" class="card-img-top" alt="Non-allergenic Plants">
                <div class="card-body">
                    <h5 class="card-title">Non-allergenic Plants</h5>
                    <a href="non-allergenic-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-between mt-3">
        <button type="button" class="btn btn-secondary" onclick="previousSection()">Previous</button>
        <button type="button" class="btn btn-secondary" onclick="skipSection('ecoFriendliness')">Skip</button>
    </div>
</div>

<!-- Eco-friendliness -->
<div class="form-section hidden" id="ecoFriendliness">
    <h4>Eco-friendliness</h4>
    <div class="row">
        <div class="col-md-4">
            <div class="card card-selection" onclick="nextSection('economicConsiderations', 'native')">
                <img src="img/native_plant.webp" class="card-img-top" alt="Native Plants">
                <div class="card-body">
                    <h5 class="card-title">Native Plants</h5>
                    <a href="native-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card card-selection" onclick="nextSection('economicConsiderations', 'supportWildlife')">
                <img src="img/local_wild.webp" class="card-img-top" alt="Plants that Support Local Wildlife">
                <div class="card-body">
                    <h5 class="card-title">Plants that Support Local Wildlife</h5>
                    <a href="support-wildlife-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card card-selection" onclick="nextSection('economicConsiderations', 'sustainable')">
                <img src="img/substain.webp" class="card-img-top" alt="Sustainable Sourcing">
                <div class="card-body">
                    <h5 class="card-title">Sustainable Sourcing</h5>
                    <a href="sustainable-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-between mt-3">
        <button type="button" class="btn btn-secondary" onclick="previousSection()">Previous</button>
        <button type="button" class="btn btn-secondary" onclick="skipSection('economicConsiderations')">Skip</button>
    </div>
</div>

<!-- Economic Considerations -->
<div class="form-section hidden" id="economicConsiderations">
    <h4>Economic Considerations</h4>
    <div class="row">
        <div class="col-md-6">
            <div class="card card-selection" onclick="nextSection('finalStep', 'initialPurchase')">
                <img src="img/initprice.webp" class="card-img-top" alt="Initial Purchase Price">
                <div class="card-body">
                    <h5 class="card-title">Initial Purchase Price</h5>
                    <a href="initial-purchase-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card card-selection" onclick="nextSection('finalStep', 'longTermCare')">
                <img src="img/long.webp" class="card-img-top" alt="Long-term Care Costs">
                <div class="card-body">
                    <h5 class="card-title">Long-term Care Costs</h5>
                    <a href="long-term-care-info.html" class="btn btn-primary mt-2">Know More</a>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-between mt-3">
        <button type="button" class="btn btn-secondary" onclick="previousSection()">Previous</button>
        <button type="button" class="btn btn-secondary" onclick="skipSection('finalStep')">Skip</button>
    </div>
</div>

<!-- Final Step with Finish Button -->
<div class="form-section hidden" id="finalStep">
    <h4>Final Step</h4>
    <div class="row mt-3">
        <div class="col-md-12">
            <div class="card card-selection" style="position: relative; width: 100%; height: auto;">
                <img src="img/final.webp" class="card-img-top" alt="Cinema Screen Ratio" style="width: 100%; height: auto;">
                <button type="submit" class="btn btn-success btn-lg" onclick="finishSelection()" style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);">Congrats, you selected your perfect plant</button>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-between mt-3">
        <button type="button" class="btn btn-secondary" onclick="previousSection()">Previous</button>
    </div>
</div>
    </form>
</div>

<script>
    let currentSectionIndex = 0;
const formSections = document.querySelectorAll('.form-section');
const progressBar = document.getElementById('progressBar');
const userSelections = {};  // Object to store user selections

// Move to the next section and store the selection
function nextSection(nextId, selectedValue) {
    if (selectedValue) {
        const currentSectionId = formSections[currentSectionIndex].id;
        userSelections[currentSectionId] = selectedValue; // Store selection
    }
    formSections[currentSectionIndex].classList.add('hidden');
    const nextSection = document.getElementById(nextId);
    nextSection.classList.remove('hidden');
    currentSectionIndex = Array.from(formSections).indexOf(nextSection);
    updateProgressBar();
}

// Move to the previous section
function previousSection() {
    if (currentSectionIndex > 0) {
        formSections[currentSectionIndex].classList.add('hidden');
        currentSectionIndex--;
        formSections[currentSectionIndex].classList.remove('hidden');
        updateProgressBar();
    }
}

// Skip a section without making a selection
function skipSection(nextId) {
    formSections[currentSectionIndex].classList.add('hidden');
    const nextSection = document.getElementById(nextId);
    nextSection.classList.remove('hidden');
    currentSectionIndex = Array.from(formSections).indexOf(nextSection);
    updateProgressBar();
}

// Function to handle form submission at the end of the selection process
// Attach the finishSelection function to form's submit event
document.getElementById('selectionForm').addEventListener('submit', function(event) {
    event.preventDefault();  // Prevent the default form submission
    
    console.log('User Selections:', userSelections);  // Log user selections for debugging

    const form = document.getElementById('selectionForm'); // Get the form element

    // Create hidden inputs for each user selection and append them to the form
    for (const section in userSelections) {
        const input = document.createElement('input');
        input.type = 'hidden';
        input.name = section;  // Name of the input will be the section ID
        input.value = userSelections[section];  // Value will be the user's selection
        form.appendChild(input);
    }

    console.log('Submitting form...');

    form.submit();  // Submit the form after adding the hidden inputs
});


// Update the progress bar based on the current section
function updateProgressBar() {
    const progress = ((currentSectionIndex + 1) / formSections.length) * 100;
    progressBar.style.width = progress + '%';
    progressBar.setAttribute('aria-valuenow', progress);
    progressBar.innerText = Math.round(progress) + '%'; 
}

// Initialize the form on page load
document.addEventListener('DOMContentLoaded', () => {
    formSections[currentSectionIndex].classList.remove('hidden');
    updateProgressBar();
});

</script>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
